<project>
  <target name="lint"
          description="Syntax check">
    <!--
        Run PHP lint checking
    -->
    <apply executable="php" failonerror="true">
      <arg value="-l" />

      <fileset dir="${basedir}/app">
        <include name="**/*.php" />
        <exclude name="**/cache/**" />
      </fileset>

      <fileset dir="${basedir}/src">
        <include name="**/*.php" />
        <exclude name="**/Tests/**" />
      </fileset>

      <fileset dir="${basedir}/web">
        <include name="**/*.php" />
      </fileset>
    </apply>

    <!--
        Run TWIG lint checking
    -->
    <apply executable="app/console" failonerror="true">
      <arg value="twig:lint" />

      <fileset dir="${basedir}/app/Resources">
        <include name="**/*.twig" />
      </fileset>

      <fileset dir="${basedir}/src">
        <include name="**/*.twig" />
      </fileset>
    </apply>
  </target>
</project>
